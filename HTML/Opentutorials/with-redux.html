<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.0.4/redux.js"></script>
    <title></title>
  </head>
  <body>
    <style>
        .container{
              border:5px solid black;
              padding: 10px;
        }
    </style>
    <div id="red"></div>


    <script>
        function reducer(state, action){
           console.log(state, action);
              if(state === undefined){  // 초기값을 설정
                 return {color:'yellow'}
              }
              var newState;
              if(action.type === 'CHANGE_COLOR'){
                 newState = Object.assign({}, state, {color:'red'}) // 원본 state를 newState에 복제
              }
              return newState;
        } // end reducer()
        var store = Redux.createStore(reducer);

        function red(){
           var state = store.getState();
           document.querySelector('#red').innerHTML = `
              <div class="container" id="componet_red" style="background-Color:${state.color}">
              <h1>red</h1>
              <input type="button" value="fire" onclick="
                  store.dispatch({type:'CHANGE_COLOR', color:'red'});
              ">
              </div>
           `;
        } // end red()
        red();





    </script>

  </body>
</html>
